var w=Object.defineProperty;var M=(r,t,i)=>t in r?w(r,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[t]=i;var d=(r,t,i)=>(M(r,typeof t!="symbol"?t+"":t,i),i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const e of n)if(e.type==="childList")for(const u of e.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function i(n){const e={};return n.integrity&&(e.integrity=n.integrity),n.referrerPolicy&&(e.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?e.credentials="include":n.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function o(n){if(n.ep)return;n.ep=!0;const e=i(n);fetch(n.href,e)}})();const f=document.querySelector("canvas"),s=f==null?void 0:f.getContext("2d"),h=900,c=650,y=.43,p=35;let m=[];const P=()=>"#"+Math.floor((Math.random()*.9+.1)*16777215).toString(16);class a{constructor(t,i){d(this,"x");d(this,"y");this.x=t,this.y=i}mag(){return Math.sqrt(this.x*this.x+this.y*this.y)}sub(t){return new a(this.x-t.x,this.y-t.y)}add(t){return new a(this.x+t.x,this.y+t.y)}mul(t){return new a(t*this.x,t*this.y)}normalize(){let t=this.mag();return new a(this.x/t,this.y/t)}withMag(t){const i=this.normalize();return new a(i.x*t,i.y*t)}dot(t){return this.x*t.x+this.y*t.y}}class S{constructor(t,i,o,n,e){d(this,"pos");d(this,"vel");d(this,"radius");d(this,"color");d(this,"name");this.pos=t,this.vel=i,this.radius=o,this.color=n,this.name=e}collide(t){if(t==this)return;if(t.pos.sub(this.pos).mag()-(this.radius+t.radius)<0){const n=this.vel.sub(t.vel),e=this.pos.sub(t.pos),u=e.dot(e),x=n.dot(e);this.vel=this.vel.sub(e.mul(x/u)),this.vel.mag()<3&&(this.vel=this.vel.withMag(3)),t.vel=t.vel.add(e.mul(x/u)),t.vel.mag()<3&&(t.vel=t.vel.withMag(3))}}move(){this.pos=this.pos.add(this.vel),this.pos.x<this.radius&&(this.pos.x=this.radius,this.vel.x=-this.vel.x),this.pos.x>h-this.radius&&(this.pos.x=h-this.radius,this.vel.x=-this.vel.x),this.pos.y<this.radius&&(this.pos.y=this.radius,this.vel.y=-this.vel.y),this.pos.y>c-this.radius&&(this.pos.y=c-this.radius,this.vel.y=-this.vel.y)}gone(){return new a(h/2,c/2).sub(this.pos).mag()-this.radius*2-5<0}render(t){s&&f&&(s.strokeStyle=this.color,s.lineWidth=3*t,s.beginPath(),s.arc(this.pos.x,this.pos.y,this.radius*t,y,Math.PI-y),s.stroke(),s.beginPath(),s.arc(this.pos.x,this.pos.y,this.radius*t,Math.PI+y,-y),s.stroke(),s.font=`bold ${20*t}px sans-serif`,s.textAlign="center",s.fillStyle=this.color,s.textBaseline="middle",s.fillText(this.name,this.pos.x,this.pos.y))}}let l=[];const v=document.getElementById("players");v==null||v.addEventListener("input",function(r){m=r.target.value.split(","),m=m.map(i=>i.trim())});const g=document.getElementById("playButton");g==null||g.addEventListener("click",function(t){q()});function k(r){let t=0,i=0;for(;Math.abs(t)<=.1;)t=Math.random()-.5;for(;Math.abs(i)<=.1;)i=Math.random()-.5;return new a(t,i).withMag(r)}function I(r,t){let i=new a(r/2,t/2);const o=new a(r/2,t/2);for(;i.sub(o).mag()<2*p;)i=new a(Math.random()*r,Math.random()*t);return i}function L(r,t,i,o,n){if(s&&f){s.save(),s.beginPath(),s.translate(r,t),s.moveTo(0,0-i);for(var e=0;e<o;e++)s.rotate(Math.PI/o),s.lineTo(0,0-i*n),s.rotate(Math.PI/o),s.lineTo(0,0-i);s.closePath(),s.fillStyle="rgba(255, 215, 0, 0.7)",s.fill(),s.restore()}}function q(){l=[];const r=m.length;for(let t=0;t<r;t++)l.push(new S(I(h,c),k(5),p,P(),m[t]));window.requestAnimationFrame(b)}function b(){if(!s||!f)return;let r=0;s.fillStyle="black",s.strokeStyle="black",s.fillRect(0,0,h,c),s.strokeRect(0,0,h,c);const t=h/2,i=c/2;let o=p;L(h/2,c/2,1.4*p,16,.65);for(let e=0;e<5;e++)s.fillStyle="rgba(255, 65, 0, 0.31)",s.beginPath(),s.arc(t,i,o,0,2*Math.PI),s.closePath(),s.fill(),o/=1.8;let n=l.filter(e=>!e.gone());l=l.length===1?l:n;for(let e=0;e<l.length;e++)for(let u=0;u<e;u++)l[e].collide(l[u]);for(let e=0;e<l.length;e++)l[e].move(),l[e].render(1);if(l.length<2){window.cancelAnimationFrame(r),s.fillStyle="black",s.strokeStyle="black",s.fillRect(0,0,h,c),s.strokeRect(0,0,h,c);let e=l[0];e.pos=new a(h/2,c/2),e.render(2),e.move()}else r=window.requestAnimationFrame(b)}
