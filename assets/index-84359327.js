var P=Object.defineProperty;var S=(r,t,i)=>t in r?P(r,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[t]=i;var d=(r,t,i)=>(S(r,typeof t!="symbol"?t+"":t,i),i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function i(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(n){if(n.ep)return;n.ep=!0;const s=i(n);fetch(n.href,s)}})();const f=document.querySelector("canvas"),e=f==null?void 0:f.getContext("2d"),a=850,h=600,y=.4,p=35;let m=[],l=[],x=[];const I=()=>"#"+Math.floor((Math.random()*.9+.1)*16777215).toString(16);class c{constructor(t,i){d(this,"x");d(this,"y");this.x=t,this.y=i}mag(){return Math.sqrt(this.x*this.x+this.y*this.y)}sub(t){return new c(this.x-t.x,this.y-t.y)}add(t){return new c(this.x+t.x,this.y+t.y)}mul(t){return new c(t*this.x,t*this.y)}normalize(){let t=this.mag();return new c(this.x/t,this.y/t)}withMag(t){const i=this.normalize();return new c(i.x*t,i.y*t)}dot(t){return this.x*t.x+this.y*t.y}}class k{constructor(t,i,o,n,s){d(this,"pos");d(this,"vel");d(this,"radius");d(this,"color");d(this,"name");this.pos=t,this.vel=i,this.radius=o,this.color=n,this.name=s}collide(t){if(t==this)return;if(t.pos.sub(this.pos).mag()-(this.radius+t.radius)<0){const n=this.vel.sub(t.vel),s=this.pos.sub(t.pos),u=s.dot(s),b=n.dot(s);this.vel=this.vel.sub(s.mul(b/u)),this.vel.mag()<3&&(this.vel=this.vel.withMag(3)),t.vel=t.vel.add(s.mul(b/u)),t.vel.mag()<3&&(t.vel=t.vel.withMag(3))}}move(){this.pos=this.pos.add(this.vel),this.pos.x<this.radius&&(this.pos.x=this.radius,this.vel.x=-this.vel.x),this.pos.x>a-this.radius&&(this.pos.x=a-this.radius,this.vel.x=-this.vel.x),this.pos.y<this.radius&&(this.pos.y=this.radius,this.vel.y=-this.vel.y),this.pos.y>h-this.radius&&(this.pos.y=h-this.radius,this.vel.y=-this.vel.y)}gone(){return new c(a/2,h/2).sub(this.pos).mag()-this.radius*2-5<0}render(t){e&&f&&(e.strokeStyle=this.color,e.lineWidth=5*t,e.beginPath(),e.arc(this.pos.x,this.pos.y,this.radius*t,y,Math.PI-y),e.stroke(),e.beginPath(),e.arc(this.pos.x,this.pos.y,this.radius*t,Math.PI+y,-y),e.stroke(),e.font=`bold ${20*t}px sans-serif`,e.textAlign="center",e.fillStyle=this.color,e.textBaseline="middle",e.fillText(this.name,this.pos.x,this.pos.y))}}const g=document.getElementById("players");g==null||g.addEventListener("input",function(r){m=r.target.value.split(","),m=m.map(i=>i.trim())});const v=document.getElementById("playButton");v==null||v.addEventListener("click",function(t){E()});function L(r){let t=0,i=0;for(;Math.abs(t)<=.1;)t=Math.random()-.5;for(;Math.abs(i)<=.1;)i=Math.random()-.5;return new c(t,i).withMag(r)}function q(r,t){let i=new c(r/2,t/2);const o=new c(r/2,t/2);for(;i.sub(o).mag()<2*p;)i=new c(Math.random()*r,Math.random()*t);return i}function A(r,t,i,o,n){if(e){e.save(),e.beginPath(),e.translate(r,t),e.moveTo(0,0-i);for(let s=0;s<o;s++)e.rotate(Math.PI/o),e.lineTo(0,0-i*n),e.rotate(Math.PI/o),e.lineTo(0,0-i);e.closePath(),e.fillStyle="rgba(255, 215, 0, 0.7)",e.fill(),e.restore()}}function O(r){for(let t=0;t<r;t++){const i=Math.random()*a,o=Math.random()*h,n=Math.random()*3,s=Math.random();x.push({x:i,y:o,r:n,alpha:s})}}function w(){if(e)for(const r of x)e.fillStyle=`rgba(255, 255, 255, ${.5*r.alpha})`,e.beginPath(),e.arc(r.x,r.y,r.r,0,2*Math.PI),e.fill()}function E(){if(!e||!f)return;f.width=a,f.height=h,l=[];const r=m.length;for(let t=0;t<r;t++)l.push(new k(q(a,h),L(5),p,I(),m[t]));x=[],O(70),window.requestAnimationFrame(M)}function M(){if(!e)return;let r=0;e.fillStyle="black",e.strokeStyle="black",e.fillRect(0,0,a,h),e.strokeRect(0,0,a,h),w();const t=a/2,i=h/2;let o=p;A(a/2,h/2,1.4*p,16,.65);for(let s=0;s<5;s++)e.fillStyle="rgba(255, 65, 0, 0.31)",e.beginPath(),e.arc(t,i,o,0,2*Math.PI),e.closePath(),e.fill(),o/=1.8;let n=l.filter(s=>!s.gone());l=l.length===1?l:n;for(let s=0;s<l.length;s++)for(let u=0;u<s;u++)l[s].collide(l[u]);for(let s=0;s<l.length;s++)l[s].move(),l[s].render(1);if(l.length<2){window.cancelAnimationFrame(r),e.fillStyle="black",e.strokeStyle="black",e.fillRect(0,0,a,h),e.strokeRect(0,0,a,h),w();let s=l[0];s.pos=new c(a/2,h/2),s.render(3),s.move()}else r=window.requestAnimationFrame(M)}
